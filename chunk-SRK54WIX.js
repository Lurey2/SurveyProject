import{n as Q,r as V,u as A}from"./chunk-AFVCIY64.js";import{_ as M,c as L,e as P,f as k,fa as z,ga as p,ja as T,ka as G,ma as I,oa as v,qa as D,sa as R,va as U,ya as j,za as O}from"./chunk-YNSZMGLT.js";import{$a as x,Aa as f,Cb as g,Ib as b,Jb as C,Kb as _,Mb as a,Qa as l,Qb as N,Ra as y,Rb as F,Ya as m,hb as w,ja as h,jb as u,pb as S,ub as e,vb as n,vd as q,wb as d,wd as E}from"./chunk-2NBCQCHV.js";var B=["googleButton"];function Z(s,r){s&1&&(e(0,"div")(1,"span",17),a(2,"Email o contrase\xF1a incorrecta"),n()())}var H=()=>["/signUp"],se=(()=>{let r=class r{constructor(i){this.NgZone=i,this.authentificationService=f(M),this.router=f(P),this.route=f(L),this.form=new I({email:new v("",{validators:p.compose([p.required]),nonNullable:!0}),password:new v("",{validators:p.compose([p.required]),nonNullable:!0})}),this.errorLogin=m(!1),this.loading=m(!1),this.hide=m(!0),this.queryParam=m({}),this.route.queryParams.subscribe(t=>{this.queryParam.set(t)})}ngOnInit(){this.initGoogle()}initGoogle(){}initSession(){this.errorLogin.set(!1);let i={email:this.form.value.email,password:this.form.value.password};this.authentificationService.signIn(i).subscribe({next:t=>{Object.keys(this.queryParam()).length!=0?this.router.navigate([this.queryParam().redirectTo]):this.router.navigate(["/"]),this.authentificationService.storageToken(t.token)},error:()=>{this.errorLogin.set(!0)}})}SingUpGoogle(i){console.log(i)}updateShow(){this.hide.update(i=>!i)}};r.\u0275fac=function(t){return new(t||r)(y(x))},r.\u0275cmp=h({type:r,selectors:[["app-login-user"]],viewQuery:function(t,o){if(t&1&&b(B,5),t&2){let c;C(c=_())&&(o.googleButton=c.first)}},standalone:!0,features:[N],decls:28,vars:7,consts:[["nz-form","",3,"formGroup","ngSubmit"],[1,"max-w-screen-xl","mx-auto","w-full"],[1,"flex","justify-between","m-8","h-full","items-center","bg-white","py-8","px-4","rounded-sm","shadow"],[1,"flex-1","max-md:hidden"],["src","assets/svg/signIn.svg","alt","imagen de inicio de Sesion",1,"w-full"],[1,"flex-1","flex","justify-center","items-center"],[1,"max-w-sm","w-full","px-2","flex","flex-col","gap-6"],[1,"font-medium","text-2xl"],[1,"text-subTittle"],[1,"flex","flex-col","gap-4"],[1,"input-login"],["type","email","formControlName","email","placeholder","Email","id","email","name","email","autocomplete","username",1,"w-full"],["formControlName","password","placeholder","Contrase\xF1a","id","password","name","password","autocomplete","current-password",1,"w-full",3,"type"],["nz-icon","",1,"text-base","select-none","cursor-pointer",3,"nzType","click"],["type","submit",1,"w-full","cursor-pointer","bg-primary","text-white","border-0","rounded","py-2"],[1,"text-center"],[1,"font-medium",3,"routerLink","queryParams"],[1,"text-red-600"]],template:function(t,o){t&1&&(e(0,"form",0),g("ngSubmit",function(){return o.initSession()}),e(1,"div",1)(2,"div",2)(3,"div",3),d(4,"img",4),n(),e(5,"div",5)(6,"div",6),d(7,"div"),e(8,"div")(9,"div",7),a(10," Iniciar Sesion "),n(),e(11,"div",8),a(12," Por favor ingrese su email y password "),n()(),e(13,"div",9)(14,"div",10),d(15,"input",11),n(),e(16,"div",10),d(17,"input",12),e(18,"span",13),g("click",function(){return o.updateShow()}),n()(),w(19,Z,3,0,"div"),n(),e(20,"div")(21,"button",14),a(22,"Login"),n()(),e(23,"div",15)(24,"span"),a(25," \xBFNo tiene una cuenta ? "),e(26,"a",16),a(27," Registrarse"),n()()()()()()()()),t&2&&(u("formGroup",o.form),l(17),u("type",o.hide()?"password":"text"),l(),u("nzType",o.hide()?"eye-invisible":"eye"),l(),S(19,o.errorLogin()?19:-1),l(7),u("routerLink",F(6,H))("queryParams",o.queryParam()))},dependencies:[A,V,O,D,z,T,G,R,U,k,E,q,j,Q],styles:[".input-login[_ngcontent-%COMP%]{border:0;border-radius:5px;background-color:#ebf1f9;padding:8px 10px;display:flex}.input-login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;outline:none;border:0;flex:1;align-items:center}"]});let s=r;return s})();export{se as LoginUserComponent};
